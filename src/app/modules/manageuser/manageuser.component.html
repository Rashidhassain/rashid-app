<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
</ngx-spinner>
<div class="container-fluid" *ngIf="edituser == false && adduser == false">
    <mat-card class="maincard">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 col-md-6">
                    <h2 class="user">Manage User</h2>
                </div>
                <div class="col-12 col-md-6">
                    <button mat-raised-button color="primary" class="adduser" (click)="AddUser()">
            <i class="fa fa-plus adjplus"></i> Add User
          </button>
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-12 col-md-2">
                    <select class="form-control entries" (change)="onChange($event.target.value)">
            <!-- <option>Select Entries</option> -->
            <option [ngValue]="5">5</option>
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
            <option [ngValue]="75">75</option>

          </select>
                </div>
                <div class="col-12 col-md-3 ml-auto">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label><i class="fa fa-search"></i> Search</mat-label>
                            <input matInput placeholder="Enter Value" value="" name="search" [(ngModel)]="searchText" autocomplete="off" />
                        </mat-form-field>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="table-responsive">
                        <table class="table table-stripped table-bordered">
                            <thead>
                                <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>

                                    <th>Contact</th>
                                    <th>Mail</th>
                                    <th>Address</th>
                                    <!-- <th>Role</th> -->
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="text-center" *ngFor="let staff of staffList
                | paginate: { itemsPerPage: pageno, currentPage: q }
                | filter: searchText | orderBy: key: !reverse">
                                    <td>{{ staff.firstName }}</td>
                                    <td>{{ staff.lastName }}</td>
                                    <td>{{ staff.contact }}</td>
                                    <td>{{ staff.email }}</td>
                                    <td>{{staff.address}}</td>
                                    <!-- <td></td>
                <td></td> -->
                                    <td>
                                        <mat-icon color="accent" class="m-1" matTooltip="Edit" (click)="EditUser(staff)">
                                            border_color</mat-icon>
                                        <mat-icon color="warn" matTooltip="Delete" (click)="delete(staff._id)">delete</mat-icon>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="20">
                                        <div *ngIf="!staffList?.length || searchText" style="text-align: center">
                                            No records found
                                        </div>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                        <pagination-controls style="float: right" (pageChange)="q = $event"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </mat-card>
</div>
<!-- table ends -->

<!-- adduser starts -->
<!-- adduser starts -->
<div class="container-fluid">
    <mat-card class="maincard" *ngIf="adduser == true">
        <div class="container">

            <div class="row">
                <div class="col-12">
                    <h2>Add User</h2>
                </div>
            </div>
            <form  class="example-form mt-3" >
    
                <div class="container">
                    <div class="row mt-3">
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width">
                                    <mat-label> <i class="fa fa-user"></i> First Name</mat-label>
                                    <input matInput text="text" placeholder="Enter First Name"   name="fullName" [(ngModel)]="reg.fullName">
                                </mat-form-field>
        
        
        
        
        
                            </form>
        
                        </div>
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width">
                                    <mat-label> <i class="fa fa-user"></i> dob</mat-label>
                                    <input matInput  placeholder="Enter Last Name"   (change)="date($event)"     type="date" >
                                </mat-form-field>
        
        
        
        
        
                            </form>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width">
                                    <mat-label> <i class="fa fa-envelope"></i> Email Address</mat-label>
                                    <input matInput type="email" placeholder="Enter Email Address" name="email" [(ngModel)]="reg.email">
                                </mat-form-field>
        
        
        
        
        
                            </form>
        
                        </div>
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width">
                                    <mat-label> <i class="fa fa-phone"></i> Contact No</mat-label>
                                    <input matInput type="number" placeholder="Enter Contact No" name="phoneNumber" [(ngModel)]="reg.phoneNumber">
                                </mat-form-field>
        
        
        
        
        
                            </form>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width">
                                    <mat-label> <i class="fa fa-lock"></i> Password</mat-label>
                                    <input matInput type="password" placeholder="Enter Password"  name="password" [(ngModel)]="reg.password">
                                </mat-form-field>
        
        
        
        
        
                            </form>
        
                        </div>
                        <div class="col-lg-6">
                            <form class="example-form">
                                <mat-form-field class="example-full-width pr-2">
                                    <mat-label> <i class="fa fa-address-card-o"></i> User Name</mat-label>
                                   <textarea name=""  matInput  name="username" [(ngModel)]="reg.username" ></textarea>
                                </mat-form-field>
        
        
        
        
        
                            </form>
                        </div>
                        <div class="col-lg-12">
                            <ul   style="display: inline-block;">
                                <li  *ngFor="let r of radioList">  <input type="radio"  [style.bgColor]="color"  name="r.name"  (click)="toggle(r.name)">  {{r.name}} </li>
                            </ul>
                          <!-- <input type="radio"  id="male" (click)="toggle('male')">
                          <input type="radio"  id="female" (click)="toggl('female')"> -->
        
                        </div>
                    </div>
                </div>
            
            
                        <!-- <h4 class="mt-5"><input type="checkbox" class="checkbox"  (click)="openDialog()"> <span class="agree pl-2">I agree to terms and condition</span> </h4>            -->
            
                       </form>
            <!-- <div class="row">
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>First Name</mat-label>
                            <input matInput placeholder="Enter The Name" name="firstName" [(ngModel)]="addusers.firstName" type="text" />
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>Last Name</mat-label>
                            <input matInput placeholder="Enter The Name" name="lastName" [(ngModel)]="addusers.lastName" type="text" />
                        </mat-form-field>
                    </form>
                </div>
            </div>



            <div class="row">

                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>Email Address</mat-label>
                            <input matInput placeholder="Enter The Contact
                                Number" type="email" [(ngModel)]="addusers.email" name="email" [(ngModel)]="addusers.email" type="text " />
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>User Type</mat-label>
                            <mat-select>
                                <mat-option>

                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </form>
                </div>
            </div>

            <div class="row ">
                <div class="col-12 col-md-6 ">
                    <form class="example-form ">
                        <mat-form-field class="example-full-width ">
                            <mat-label>Contact</mat-label>
                            <input matInput placeholder="Enter The Name " type="number" name="contact" [(ngModel)]="addusers.contact " />
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6 ">
                    <form class="example-form ">
                        <mat-form-field class="example-full-width ">
                            <mat-label>Address</mat-label>
                            <textarea matInput placeholder="Enter The Address " name="address " [(ngModel)]="addusers.address "></textarea>
                        </mat-form-field>
                    </form>
                </div>
            </div> -->
        </div>
        <div class="text-right ">
            <button mat-raised-button color="primary" class="m-1 save"  (click)="submitreg(reg)">Save</button>
            <button mat-raised-button color="warn" (click)="Cancel() ">Close</button>
        </div>
    </mat-card>
</div>
<!-- adduser ends -->

<!-- edit user starts -->
<div class="container-fluid">
    <mat-card class="maincard" *ngIf="edituser == true">
        <div class="container">

            <div class="row">
                <div class="col-12">
                    <h2>Edit Staff</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>First Name</mat-label>
                            <input matInput placeholder="Enter The Name" name="firstName" [(ngModel)]="editusers.firstName" type="text" />
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>Last Name</mat-label>
                            <input matInput placeholder="Enter The Name" name="lastName" [(ngModel)]="editusers.lastName" type="text" />
                        </mat-form-field>
                    </form>
                </div>
            </div>



            <div class="row">
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>User Type</mat-label>
                            <mat-select>
                                <mat-option>

                                </mat-option>
                            </mat-select>
                            <!-- <input matInput placeholder="Enter Contact" name="address" [formControl]="Address" [errorStateMatcher]="matcher" [(ngModel)]="updatelocatiion.isMandatory" type="text" /> -->
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6">
                    <form class="example-form">
                        <mat-form-field class="example-full-width">
                            <mat-label>Email Address</mat-label>
                            <input matInput placeholder="Enter The Contact
                                Number" type="email" [(ngModel)]="addusers.email" name="email" [(ngModel)]="editusers.email" type="text " />
                        </mat-form-field>
                    </form>
                </div>
            </div>

            <div class="row ">
                <div class="col-12 col-md-6 ">
                    <form class="example-form ">
                        <mat-form-field class="example-full-width ">
                            <mat-label>Contact</mat-label>
                            <input matInput placeholder="Enter The Name " type="number " name="contact" [(ngModel)]="editusers.contact " />
                        </mat-form-field>
                    </form>
                </div>
                <div class="col-12 col-md-6 ">
                    <form class="example-form ">
                        <mat-form-field class="example-full-width ">
                            <mat-label>Address</mat-label>
                            <textarea matInput placeholder="Enter The Address " name="address " [(ngModel)]="editusers.address "></textarea>
                        </mat-form-field>
                    </form>
                </div>
            </div>
        </div>
        <div class="text-right ">
            <button mat-raised-button color="primary" class="m-1 " (click)="updateStaff(editusers)">Save</button>
            <button mat-raised-button color="warn" (click)="Cancel() ">Close</button>
        </div>
    </mat-card>
</div>
<!-- edit user ends -->